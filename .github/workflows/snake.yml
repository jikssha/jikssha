name: Generate GitHub Contribution Snake

on:

# 每天凌晨 1 点自动运行

schedule:
- cron: "0 1 * * *"

# 手动触发

workflow_dispatch:

# 每次 push 到 main 分支触发

push:
branches:
- main

jobs:
generate:
runs-on: ubuntu-latest
timeout-minutes: 10

```
steps:
  # 1. Checkout 仓库
  - name: Checkout repository
    uses: actions/checkout@v4
    with:
      fetch-depth: 0

  # 2. 生成贡献蛇形图
  - name: Generate snake SVG
    uses: Platane/snk/svg-only@v3
    with:
      github_user_name: ${{ github.repository_owner }}
      outputs: |
        dist/github-contribution-grid-snake.svg
        dist/github-contribution-grid-snake-dark.svg?palette=github-dark
    env:
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

  # 3. 提交生成的 SVG 到 output 分支
  - name: Push snake SVG to output branch
    uses: crazy-max/ghaction-github-pages@v3.1.0
    with:
      target_branch: output
      build_dir: dist
    env:
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```
