name: Generate Dynamic GitHub Contribution Snake

on:

# 每天凌晨 1 点自动运行

schedule:
- cron: "0 1 * * *"

# 手动触发

workflow_dispatch:

# 每次 push 到 main 分支触发

push:
branches:
- main

jobs:
generate-snake:
runs-on: ubuntu-latest
timeout-minutes: 15

```
steps:
  # 1. Checkout 仓库
  - name: Checkout repository
    uses: actions/checkout@v4
    with:
      fetch-depth: 0

  # 2. 生成动态蛇形 GIF
  - name: Generate dynamic snake GIF
    uses: Platane/snk@v3
    with:
      github_user_name: ${{ github.repository_owner }}
      gif_out_path: dist/github-contribution-grid-snake.gif
    env:
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

  # 3. 提交生成的 GIF 到 output 分支
  - name: Commit and push snake GIF
    uses: crazy-max/ghaction-github-pages@v3.1.0
    with:
      target_branch: output
      build_dir: dist
    env:
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```
